<md-content ng-if="submenuNavItem == 'fim'" ng-show="_agent" class="md-padding">
    <div ng-controller="fimController">


        <div flex layout="column">

            <div flex layout="row" ng-if="!load">
                <md-content flex layout="column">

                    <div flex ng-if="!(_file)">
                        <md-virtual-repeat-container class="vertical-repeater">
                            <md-toolbar layout="row" class="md-hue-3">
                                <div class="md-toolbar-tools">
                                    <span flex="60">
                          <md-input-container style="width: 80%">
                <label for="searchBox" class="no-float-label">File name</label>
                <input type="text" id="searchBox" ng-model="_fimSearch" ng-change="getFiles()" md-autofocus flex>
                </md-input-container>
                      </span>
                                    <span flex="20" hide-sm hide-xs>
                                                    <md-input-container style="width: 80%">
                          <md-select id="eventBox" ng-model="_fimEvent" ng-change="setEventFilter()" aria-label="Filter by event">
                        <md-option value="all">All events</md-option>
                        <md-option value="added">Added</md-option>
                        <md-option value="modified">Modified</md-option>
                        <md-option value="readded">Re-added</md-option>
                        <md-option value="deleted">Deleted</md-option>
                    </md-select>
                                                    </md-input-container>
                      </span>
                                    <span flex="20" hide-sm hide-xs>
                           <md-input-container style="width: 80%">
                               <md-select id="typeBox" ng-model="_fimType" ng-change="setTypeFilter()" aria-label="Filter by type">
                        <md-option value="all">All elements</md-option>
                        <md-option value="file">Files</md-option>
                        <md-option value="registry">Registry entries</md-option>
                    </md-select>
                           </md-input-container>
                      </span>
                                </div>
                            </md-toolbar>
                            <div md-virtual-repeat="file in filesObj" md-on-demand flex layout-align="stretch">
                                <md-list>
                                    <md-list-item ng-click="initEvents(_agent, file)">
                                        <span flex="60">{{file.file.length > 75 ? file.file.substring(0, 75)+'...' : file.file}}</span>
                                        <span flex="20" hide-sm hide-xs>{{file.event.charAt(0).toUpperCase() + file.event.slice(1)}}</span>
                                        <span flex="20" hide-sm hide-xs>{{file.modificationDate}}</span>
                                    </md-list-item>
                                </md-list>
                                <md-divider></md-divider>
                            </div>
                        </md-virtual-repeat-container>
                    </div>


                    <!--todo-->
                    <div flex ng-if="_file">
                        <md-virtual-repeat-container class="vertical-repeater" style="min-height: 400px;">
                            <md-toolbar layout="row" class="md-hue-3">
                                <div class="md-toolbar-tools" style="text-align: center;">
                                    <span flex="10">Event</span>
                                    <span flex show-sm show-xs> </span>
                                    <span flex="20">Date</span>
                                    <span flex="15" hide-sm hide-xs>User</span>
                                    <span flex="15" hide-sm hide-xs>Group</span>
                                    <span flex="20" hide-sm hide-xs>Permissions</span>
                                    <span flex="10" hide-sm hide-xs>Size</span>
                                    <span flex show-sm show-xs> </span>
                                    <span flex="10">Details</span>
                                </div>
                            </md-toolbar>
                            <div md-virtual-repeat="event in eventsObj" md-on-demand flex>
                                <md-list>
                                    <md-list-item style="text-align: center;">
                                        <span flex="10">{{event.event}}</span>
                                        <span flex show-sm show-xs> </span>
                                        <span flex="20">{{event.modificationDate}}</span>
                                        <span flex="15" hide-sm hide-xs>{{event.user}} (ID: {{event.uid}})</span>
                                        <span flex="15" hide-sm hide-xs>{{event.group}} (ID: {{event.gid}})</span>
                                        <span flex="20" hide-sm hide-xs>{{event.permissions}}</span>
                                        <span flex="10" hide-sm hide-xs>{{event.size}} bits</span>
                                        <span flex show-sm show-xs> </span>
                                        <span flex="10" ng-click="printEventInfo(event)"><span class="glyphicon glyphicon-plus"></span></span>
                                    </md-list-item>
                                </md-list>
                            </div>
                    </div>
                </md-content>
            </div>


        </div>
</md-content>